<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <title>ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб</title>
    <link rel="stylesheet" href="./styles/variables.css">
    <link rel="stylesheet" href="./styles/main.css">
    <link rel="stylesheet" href="./modules/admin/dashboard/dashboard.css">
</head>
<body>
    <div id="auth-check" style="text-align:center; padding:50px;">ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ...</div>
    
    <div class="dashboard-container" id="main-dash" style="display:none;">
        <div class="dashboard-header">
            <h2>рж╕рзНржмрж╛ржЧрждржо ржПржбржорж┐ржи</h2>
            <button id="logout-btn" class="btn-logout">рж▓ржЧржЖржЙржЯ</button>
        </div>
        <div class="dashboard-grid">
            <a href="settings.html" class="dash-card"><h3>тЪЩя╕П рж╕рзЗржЯрж┐ржВрж╕</h3></a>
            <a href="manage-product.html" class="dash-card"><h3>ЁЯСЧ ржкрзНрж░рзЛржбрж╛ржХрзНржЯ ржорзНржпрж╛ржирзЗржЬрж╛рж░</h3></a>
            <a href="orders.html" class="dash-card"><h3>ЁЯУж ржЕрж░рзНржбрж╛рж░ рж▓рж┐рж╕рзНржЯ</h3></a>
        </div>
    </div>

    <script type="module">
        import { auth, logoutUser } from './config/firebase-config.js';
        import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        const ADMIN_EMAIL = "keshabsarkar2018@gmail.com";

        onAuthStateChanged(auth, (user) => {
            if (user && user.email === ADMIN_EMAIL) {
                document.getElementById('auth-check').style.display = 'none';
                document.getElementById('main-dash').style.display = 'block';
            } else {
                window.location.href = 'admin.html';
            }
        });

        document.getElementById('logout-btn').addEventListener('click', () => {
            logoutUser();
            window.location.href = 'index.html';
        });
    </script>
</body>
</html>