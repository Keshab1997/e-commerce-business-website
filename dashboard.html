<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб</title>
    <link rel="stylesheet" href="./styles/variables.css">
    <link rel="stylesheet" href="./styles/main.css">
    <link rel="stylesheet" href="./modules/admin/dashboard/dashboard.css">
</head>
<body>
    <!-- рж▓рзЛржбрж┐ржВ рж╕рзНржХрзНрж░рж┐ржи (ржЪрзЗржХ ржХрж░рж╛рж░ рж╕ржоржпрж╝ ржжрзЗржЦрж╛ржмрзЗ) -->
    <div id="auth-check" style="text-align:center; padding:50px;">ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ...</div>

    <!-- ржорзЗржЗржи ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб (рж▓рзБржХрж╛ржирзЛ ржерж╛ржХржмрзЗ ржпрждржХрзНрж╖ржг ржирж╛ ржнрзЗрж░рж┐ржлрж╛ржЗ рж╣ржпрж╝) -->
    <div class="dashboard-container" id="main-dash" style="display:none;">
        <div class="dashboard-header">
            <h2>рж╕рзНржмрж╛ржЧрждржо ржХрзЗрж╢ржм рж╕рж░ржХрж╛рж░ ЁЯСЛ</h2>
            <button id="logout-btn" class="btn-logout">рж▓ржЧржЖржЙржЯ</button>
        </div>

        <div class="dashboard-grid">
            <a href="settings.html" class="dash-card">
                <div class="card-icon">тЪЩя╕П</div>
                <h3>рж╕рзЗржЯрж┐ржВрж╕</h3>
            </a>
            <a href="manage-product.html" class="dash-card">
                <div class="card-icon">ЁЯСЧ</div>
                <h3>ржкрзНрж░рзЛржбрж╛ржХрзНржЯ ржорзНржпрж╛ржирзЗржЬрж╛рж░</h3>
            </a>
            <a href="orders.html" class="dash-card">
                <div class="card-icon">ЁЯУж</div>
                <h3>ржЕрж░рзНржбрж╛рж░ рж▓рж┐рж╕рзНржЯ</h3>
            </a>
        </div>
    </div>

    <script type="module">
        import { auth, logoutUser } from './config/firebase-config.js';
        import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        const ADMIN_EMAIL = "keshabsarkar2018@gmail.com";

        // рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐ ржЪрзЗржХ
        onAuthStateChanged(auth, (user) => {
            if (user && user.email === ADMIN_EMAIL) {
                // ржЖрж╕рж▓ ржПржбржорж┐ржи
                document.getElementById('auth-check').style.display = 'none';
                document.getElementById('main-dash').style.display = 'block';
            } else {
                // ржиржХрж▓ ржмрж╛ рж▓ржЧржЖржЙржЯ ржЗржЙржЬрж╛рж░ -> рж╣рзЛржо ржкрзЗржЬрзЗ ржкрж╛ржарж┐ржпрж╝рзЗ ржжрзЗржУржпрж╝рж╛ рж╣ржмрзЗ
                window.location.href = 'index.html';
            }
        });

        // рж▓ржЧржЖржЙржЯ ржмрж╛ржЯржи
        document.getElementById('logout-btn').addEventListener('click', () => {
            logoutUser();
        });
    </script>
</body>
</html>