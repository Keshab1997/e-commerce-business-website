<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ржПржбржорж┐ржи ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб</title>
    
    <!-- рж╕рзНржЯрж╛ржЗрж▓рж╢рж┐ржЯ -->
    <link rel="stylesheet" href="styles/variables.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="modules/admin/dashboard/dashboard.css">
</head>
<body>

    <!-- рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐ ржЪрзЗржХрж┐ржВ рж▓рзЛржбрж╛рж░ -->
    <div id="auth-check" class="loading-screen">
        <div class="spinner"></div>
        <p>ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ...</p>
    </div>
    
    <!-- ржорзЗржЗржи ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб -->
    <div class="dashboard-wrapper" id="main-dash" style="display:none;">
        
        <!-- рзз. ржЯржк ржмрж╛рж░ -->
        <header class="dash-header">
            <div class="header-left">
                <h2>ржПржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓</h2>
                <!-- ржПржЦрж╛ржирзЗ ржЖржЗржбрж┐ ржжрзЗржУржпрж╝рж╛ рж╣рж▓рзЛ -->
                <p id="admin-page-title">рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...</p>
            </div>
            <div class="header-right">
                <a href="index.html" class="btn-view-site" target="_blank">ЁЯМН рж╕рж╛ржЗржЯ ржжрзЗржЦрзБржи</a>
                <button id="logout-btn" class="btn-logout">рж▓ржЧржЖржЙржЯ</button>
            </div>
        </header>

        <!-- рзи. ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб ржХржирзНржЯрзЗржирзНржЯ -->
        <div class="dashboard-container">
            <div class="welcome-banner">
                <h1>рж╕рзНржмрж╛ржЧрждржо, ржХрзЗрж╢ржм рж╕рж░ржХрж╛рж░ ЁЯСЛ</h1>
                <p>ржЖржЬржХрзЗрж░ ржжрж┐ржирзЗрж░ ржХрж╛рж░рзНржпржХрзНрж░ржо ржПржЦрж╛ржи ржерзЗржХрзЗ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзБржиред</p>
            </div>

            <div class="dashboard-grid">
                
                <!-- рж╕рзЗржЯрж┐ржВрж╕ ржХрж╛рж░рзНржб -->
                <a href="settings.html" class="dash-card">
                    <div class="icon-box settings-icon">тЪЩя╕П</div>
                    <div class="card-info">
                        <h3>ржжрзЛржХрж╛ржи рж╕рзЗржЯрж┐ржВрж╕</h3>
                        <p>ржирж╛ржо, рж▓рзЛржЧрзЛ ржУ ржарж┐ржХрж╛ржирж╛ ржкрж░рж┐ржмрж░рзНрждржи</p>
                    </div>
                </a>

                <!-- ржкрзНрж░рзЛржбрж╛ржХрзНржЯ ржХрж╛рж░рзНржб -->
                <a href="manage-product.html" class="dash-card">
                    <div class="icon-box product-icon">ЁЯСЧ</div>
                    <div class="card-info">
                        <h3>ржкрзНрж░рзЛржбрж╛ржХрзНржЯ ржорзНржпрж╛ржирзЗржЬрж╛рж░</h3>
                        <p>ржирждрзБржи рж╢рж╛ржбрж╝рж┐ ржЖржкрж▓рзЛржб ржУ ржбрж┐рж▓рж┐ржЯ</p>
                    </div>
                </a>

                <!-- ржЕрж░рзНржбрж╛рж░ ржХрж╛рж░рзНржб -->
                <a href="orders.html" class="dash-card">
                    <div class="icon-box order-icon">ЁЯУж</div>
                    <div class="card-info">
                        <h3>ржЕрж░рзНржбрж╛рж░ рж▓рж┐рж╕рзНржЯ</h3>
                        <p>ржХрж╛рж╕рзНржЯржорж╛рж░ ржЕрж░рзНржбрж╛рж░ ржжрзЗржЦрзБржи</p>
                    </div>
                </a>

            </div>
        </div>
    </div>

    <!-- рж╕рзНржХрзНрж░рж┐ржкрзНржЯ -->
    <script type="module">
        import { auth, logoutUser } from './config/firebase-config.js';
        import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        const ADMIN_EMAIL = "keshabsarkar2018@gmail.com";

        onAuthStateChanged(auth, (user) => {
            if (user && user.email === ADMIN_EMAIL) {
                document.getElementById('auth-check').style.display = 'none';
                document.getElementById('main-dash').style.display = 'block';
            } else {
                window.location.href = 'admin.html';
            }
        });

        document.getElementById('logout-btn').addEventListener('click', () => {
            if(confirm("ржЖржкржирж┐ ржХрж┐ рж▓ржЧржЖржЙржЯ ржХрж░рждрзЗ ржЪрж╛ржи?")) {
                logoutUser();
                window.location.href = 'index.html';
            }
        });
    </script>

    <!-- ржЧрзНрж▓рзЛржмрж╛рж▓ ржмрзНрж░рзНржпрж╛ржирзНржбрж┐ржВ рж▓рзЛржбрж╛рж░ -->
    <script type="module" src="./utils/global-loader.js"></script>
</body>
</html>